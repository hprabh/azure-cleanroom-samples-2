segments:
- data: CREATE OR REPLACE TEMP VIEW publisher_view AS SELECT * FROM publisher_data
  executionSequence: 1
  postFilters: []
  preConditions: []
- data: CREATE OR REPLACE TEMP VIEW consumer_view AS SELECT * FROM consumer_data
  executionSequence: 1
  postFilters: []
  preConditions: []
- data: SELECT author, COUNT(*) AS Number_Of_Mentions, SUM(mentions) AS Restricted_Sum
    FROM (SELECT * FROM publisher_view UNION ALL SELECT * FROM consumer_view) AS combine_data
    WHERE mentions LIKE '%MikeDoesBigData%' GROUP BY author ORDER BY Number_Of_Mentions
    DESC
  executionSequence: 2
  postFilters:
  - columnName: Number_Of_Mentions
    value: 2
  preConditions:
  - minRowCount: 100
    viewName: publisher_view
  - minRowCount: 100
    viewName: consumer_view
